<?xml version="1.0" encoding="UTF-8" ?>
<!--  SQL 맵퍼 파일은 xml이기 때문에 제일 먼저 xml 선언이 옵니다. -->
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="QnAs" >
	<select id="count" resultType="int">
		select count(*) from QNABOARD
	</select>
	
	
	<select id="list" parameterType="java.util.Map" resultType="qna">
		select * from
		(select rownum rnum, b.*
		from
		(select * from QNABOARD 
		order by QNA_INDEX desc) b
		)
		where rnum &gt; = #{start} and rnum &lt; = #{end}		
	</select>
	
	<insert id="insert" parameterType="qna">
		insert into QNABOARD
		(QNA_INDEX ,
		 QNA_TITLE,QNA_WRITER, QNA_REPORT,QNE_CONTENT,QNA_DATE,QNA_TYPE)
		 values
		 (qnaboard_seq.NEXTVAL,
		 #{QNA_TITLE},#{QNA_WRITER}, #{QNA_REPORT}, #{QNE_CONTENT},sysdate,
		 #{QNA_TYPE})
	</insert>
	
		
	<select id="Detail" resultType="qna">
		select * from QNABOARD where QNA_INDEX = #{num}
	</select>
	

</mapper>